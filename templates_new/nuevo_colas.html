<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultado de la Simulación</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f4f4f4;
        }
        .section-llegada { background-color: #ffebf1; } /* Rosa claro */
        .section-inscripcion { background-color: #e8d8ff; } /* Violeta claro */
        .section-mantenimiento { background-color: #d8eaff; } /* Azul claro */
        .section-cola { background-color: #fffacd; } /* Amarillo claro */
    </style>
</head>
<body>
    <h1>Resultado de la Simulación</h1>
    <table>
        <thead>
            <tr>
                <th rowspan="2">#</th>
                <th rowspan="2">Evento</th>
                <th rowspan="2">Reloj</th>
                <th colspan="4" class="section-llegada">Llegada Alumno</th>
                <th colspan="3" class="section-inscripcion">Fin Inscripción</th>
                <th colspan="3" class="section-mantenimiento">Mantenimiento</th>
                <th rowspan="2" class="section-cola">Cola</th>
                <th rowspan="2">Estado de Equipos</th>
            </tr>
            <tr>
                <th class="section-llegada">RND Llegada</th>
                <th class="section-llegada">Tiempo Llegada</th>
                <th class="section-llegada">Próxima Llegada</th>
                <th class="section-llegada">Máquina</th>
                <th class="section-inscripcion">RND Inscripción</th>
                <th class="section-inscripcion">Tiempo Inscripción</th>
                <th class="section-inscripcion">Fin Inscripción</th>
                <th class="section-mantenimiento">RND Mantenimiento</th>
                <th class="section-mantenimiento">Tiempo Mantenimiento</th>
                <th class="section-mantenimiento">Fin Mantenimiento</th>
            </tr>
        </thead>
        <tbody>
            {% for fila in tabla %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ fila['Evento'] }}</td>
                <td>{{ fila['Reloj'] }}</td>
                <td class="section-llegada">{{ fila.get('RND Llegada', 'N/A') }}</td>
                <td class="section-llegada">{{ fila.get('Tiempo Llegada', 'N/A') }}</td>
                <td class="section-llegada">{{ fila.get('Próxima Llegada', 'N/A') }}</td>
                <td class="section-llegada">{{ fila.get('Máquina', 'N/A') }}</td>
                <td class="section-inscripcion">{{ fila.get('RND Inscripción', 'N/A') }}</td>
                <td class="section-inscripcion">{{ fila.get('Tiempo Inscripción', 'N/A') }}</td>
                <td class="section-inscripcion">{{ fila.get('Fin Inscripción', 'N/A') }}</td>
                <td class="section-mantenimiento">{{ fila.get('RND Mantenimiento', 'N/A') }}</td>
                <td class="section-mantenimiento">{{ fila.get('Tiempo Mantenimiento', 'N/A') }}</td>
                <td class="section-mantenimiento">{{ fila.get('Fin Mantenimiento', 'N/A') }}</td>
                <td class="section-cola">{{ fila.get('Cola', 'N/A') }}</td>
                <td>
                    {% if estado_equipos %}
                        {% for estado in estado_equipos %}
                            <div>{{ estado }}</div>
                        {% endfor %}
                    {% else %}
                        No disponible
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
